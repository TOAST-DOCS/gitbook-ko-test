## Contact Center > Online Contact > 서비스 가이드 (상담관리) > 고객정보관리

**고객정보관리**는 Online Contact에 접수된 고객 정보를 관리하거나 API를 통해 외부 시스템의 고객 정보를 연동할 수 있는 메뉴입니다.

접속중인 서비스의 계약 상세 내역에서 **고객정보관리** 기능을 **사용**으로 설정해야 하며, [서비스관리 → 상담원] 메뉴에서 **관리자** 권한을 가진 사용자만 이용할 수 있습니다.

## 고객관리

### 고객관리
![고객관리](https://static.toastoven.net/prod_contact_center/OC3.0/kr/online-contact-guide-customer-management_img0010.png)

고객관리 메뉴는 생성된 고객 정보 내역을 확인하는 메뉴입니다.

**① 고객 정보**

- 검색 조건에 따라 Online Contact에 생성된 고객 정보 내역이 조회됩니다.
- 고객 정보는 헬프센터 문의하기, 전화, 메일 등 다양한 채널을 통해 접수된 상담 정보를 기준으로 **자동으로 생성**됩니다.
- 고객 정보 생성 시 **전화** 채널로 접수된 문의는 동일한 전화번호가 있다면 해당 고객 정보로 **자동 통합**되며, **전화 이외의 채널**에서 접수된 문의는 이메일을 기준으로 통합됩니다.
- 신규 고객이라면 새로운 **고객 고유번호**가 채번되어 고객 정보가 생성됩니다.

**② 고객 정보 상세**

- 조회된 고객 데이터를 클릭하면 **고객정보** 대화상자가 나타나며 상세 내용을 확인할 수 있습니다.
- 이름, 전화번호 등의 고객 정보와 해당 고객의 상담 이력을 함께 조회할 수 있습니다.

### 고객 정보 변경
![고객관리_고객정보변경](https://static.toastoven.net/prod_contact_center/OC3.0/kr/online-contact-guide-customer-management_img0020.png)

고객 정보를 변경하려면 티켓관리 메뉴에서 해당 티켓의 정보를 수정해야 합니다.

**① 티켓 상세 수정**

- 고객 정보를 수정하려는 티켓을 조회하고 **티켓 상세 영역**의 필드 내용을 수정합니다.
- **고객 고유번호**를 기준으로 아이디, 이름, 전화번호 등의 최신 고객 정보가 존재할 경우 드롭박스를 클릭하면 등록된 정보를 선택하여 변경할 수 있습니다.

**② 저장**

- 정보 변경 후 **저장** 버튼을 클릭하면 입력한 내용이 저장됩니다.
- 새로운 고객 정보를 입력하였을 경우, 해당 고객 정보도 함께 저장되며 고객관리 메뉴에서 확인할 수 있습니다.

### 고객 정보 통합
![고객관리_고객정보통합](https://static.toastoven.net/prod_contact_center/OC3.0/kr/online-contact-guide-customer-management_img0030.png)

별개로 생성된 고객 정보가 다른 고객 정보와 동일한 고객일 경우 **통합** 기능을 사용할 수 있습니다.

**① 통합**

- 고객 정보를 통합하려는 티켓을 조회하고 티켓 상세 영역의 **통합** 버튼을 클릭합니다.
- 클릭 시 **고객정보 통합 대화상자**가 실행되고 상단에는 해당 고객의 정보가 표시됩니다.

**② 통합 대상 검색**

- **통합 대상 검색** 영역에 고객 고유번호, 이름, 아이디 등 통합할 고객 정보의 검색 조건을 입력한 후 조회 버튼을 클릭합니다.

**③ 통합 대상 선택**

- 검색 조건에 따라 하단에 고객 정보가 조회됩니다.
- 해당하는 정보를 선택한 후 **통합** 버튼을 클릭하면 해당 고객의 정보와 통합 처리됩니다.

## 고객정보연동

### API 설정
![고객관리_API설정](https://static.toastoven.net/prod_contact_center/OC3.0/kr/online-contact-guide-customer-management_img0040.png)

Online Contact 외 사용중인 자체 서비스가 있다면 **API**를 통해 해당 서비스의 데이터를 조회할 수 있습니다.

[서비스 관리 → 인증 → OPEN API] 메뉴에서 **OPEN API를 활성화**해야 이용할 수 있습니다.

**① 추가**

- API를 설정하려면 **추가** 버튼을 클릭합니다.

**② API 상세설정**

- API 정보를 입력합니다. 입력 항목은 아래와 같습니다.
> - **API 이름**: 추가할 API 명칭을 입력합니다.
> - **기본 URL**: API 호출 URL을 입력합니다.
> - **암호화 여부**: API를 통해 전송되는 메시지의 암호화 사용 여부를 선택합니다.
> - **암호화 키**: 암호화 여부가 '예'로 설정될 경우 자동 생성되며, 버튼을 통해 Key 복사 및 변경이 가능합니다.
> - **OC 서버 정보**: API를 제공하는 서비스에 접근하기 위해 Online Contact에 대한 방화벽을 열어주어야 합니다. 검색 버튼으로 수신자를 선택한 후, **메일 발송** 버튼을 클릭하면 IP 정보가 메일로 발송됩니다.
> - **조회항목 설정**: API를 호출하기 위한 조회항목(파라미터)을 설정합니다.
>    - 구분: '추가' 버튼을 통해 추가했을 경우 '일반', '티켓 필드 추가' 버튼을 통해 추가했을 경우 '티켓 필드'로 표시됩니다.
>     - 타입: 구분이 '일반'일 경우 텍스트 박스와 드롭 박스 중 선택할 수 있습니다.
>     - 필수 여부: API 호출 시 필수로 입력해야 하는 지 여부를 선택합니다.
>     - 화면 명칭: 티켓 관리 화면에 표시되는 조회 항목의 명칭을 입력합니다.
>     - 변수 명칭: 파라미터의 코드를 입력합니다.
>     - 데이터 길이: 파라미터의 입력 가능 길이를 설정합니다.
>     - 부가 설정: 구분이 '일반'일 경우 텍스트 박스의 기본값 및 드롭 박스의 목록을, '티켓 필드'일 경우 티켓 상세 화면에서 고객정보를 자동 조회할 채널을 선택할 수 있습니다.
> - **결과항목 설정**: API에서 리턴된 데이터를 Online Contact 화면에 어떻게 표시할 지 설정합니다.
>     - **화면 명칭**: 티켓 관리 화면에 표시되는 결과 항목의 명칭을 설정합니다.
>     - **데이터 명칭**: 리턴 받은 결과 데이터에서 값을 식별하기 위한 key를 입력합니다.

### 고객정보 조회
![고객관리_고객정보조회](https://static.toastoven.net/prod_contact_center/OC3.0/kr/online-contact-guide-customer-management_img0050.png)

**API 설정**에서 추가한 API는 **티켓관리 메뉴에서 사용**할 수 있습니다.

**① 정보검색**

- 고객과의 상담 중 API를 호출하여 외부 정보를 조회하려면 상단의 **정보검색** 버튼을 클릭합니다.
- API 설정에서 세팅한 조회항목 및 결과항목이 표시됩니다. 

**② 조회**

- API 설정에서 세팅한 조회항목을 입력한 후 **조회** 버튼을 클릭합니다.
- 성공 시 조회 버튼 아래의 **결과항목** 필드에 리턴 값이 조회됩니다.

> **※참고사항**
>
> 조회 시 조회 항목에 **티켓 필드** 중 '아이디', '전화번호', '이메일', '이름' 필드가 추가되어 있다면, 입력한 조건을 만족하는 티켓 목록도 함께 조회됩니다. (조회 기간 기본 3개월)

**③ 티켓정보**

- 티켓 선택 시 티켓정보 영역 하단의 **고객정보** 탭에서 API 리턴 값이 표시됩니다.
- API 조회 항목에 **티켓 필드**가 존재하면, **티켓 채널 연동** 설정된 채널로부터 유입되었을 경우 API를 자동으로 호출하여 정보를 확인할 수 있습니다.