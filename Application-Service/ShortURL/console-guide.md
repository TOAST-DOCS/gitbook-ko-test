## Application Service > ShortURL > 콘솔 사용 가이드

## URL

### 단축 URL 추가
- **조회 > URL** 탭에서 **URL 추가** 버튼을 클릭하여 새로운 단축 URL을 추가할 수 있습니다.
- 원본 URL, 도메인을 선택하여 새로운 단축 URL을 추가합니다.
- 원하는 URL을 생성하려면 **URL 종류 > 사용자 입력**을 선택하고 원하는 URL을 입력합니다.
  - 만들어진 단축 URL을 통해 원본 URL을 접근할 경우 원본 URL을 ASCII(7) 문자열로 변경하여 Location 헤더에 추가합니다.
  - 이때 + 문자는 별도의 인코딩 없이 그대로 쓰입니다.
    - 예를 들어 `https://nhn.com?query=안+녕`은 `https://nhn.com?query=%EC%95%88+%EB%85%95`로 변환되며 `+`문자를 따로 `%2B`로 인코딩 하지 않습니다.
- **오픈 일시**와 **만료 일시**는 추가된 URL을 통하여 접속 가능한 기간으로, 특정 시간 이후에 접근을 원하지 않을 경우 유용합니다.

### 단축 URL 조회
- **조회 > URL** 탭에서 추가한 URL 정보를 확인할 수 있습니다.
- **도메인**, **검색어**를 입력하여 URL을 검색할 수 있습니다.
- **복사** 버튼을 클릭하여 손쉽게 링크를 복사할 수 있습니다.
- **비활성화** 버튼을 클릭하여 언제든 사용하고 있는 단축 URL로의 접근을 막을 수 있습니다.
- **삭제** 버튼을 클릭하여 더는 사용하지 않는 단축 URL을 삭제할 수 있습니다.

## 캠페인

### 캠페인 추가
- **조회 > 캠페인** 탭에서 **캠페인 추가** 버튼을 클릭하여 새로운 캠페인을 추가할 수 있습니다.
- **캠페인**은 여러 개의 단축 URL을 포함할 수 있는 이벤트 그룹입니다.
- **소속 URL**에 원하는 URL을 추가하여 관리할 수 있습니다.
- **편집** 버튼을 클릭하여 **소속 URL**을 추가 또는 삭제할 수 있습니다.
- **자세히** 버튼을 클릭하여 캠페인에 포함된 단축 URL 목록을 확인할 수 있습니다.

### 캠페인 조회
- **조회 > 캠페인** 탭에서 **캠페인** 정보를 확인할 수 있습니다.
- **도메인**, **상태** 그리고 **검색어**를 입력하여 캠페인을 검색할 수 있습니다.


## 도메인

### DNS 등록
> IP: 43.227.116.15
- **도메인**을 추가하려면 DNS 서버의 위의 IP로 **도메인**이 등록되어 있어야 합니다.
    - **A 레코드**를 보고 검증하기 때문에 **A 레코드**가 존재해야 합니다.
- **nslookup** 명령어를 사용하여 아래와 같이 DNS가 정상적으로 등록되었는지 확인할 수 있습니다.

```bash
...
Name:   nh.nu
Address: 43.227.116.15
```

### 도메인 추가
- **관리 > 도메인** 탭에서 **도메인 추가** 버튼을 클릭하여 사용자가 소유하고 있는 도메인을 추가할 수 있습니다.
- **도메인**을 등록할 때 IP가 단축 URL 서버 IP인지 검증합니다.
- **공개 범위**는 같은 조직 내의 여러 프로젝트에서 **도메인**을 공유해서 사용할 수 있도록 제공합니다.
- **자세히** 버튼을 클릭하여 도메인의 자세한 정보를 확인할 수 있습니다.
- 등록한 **도메인**은 다른 조직이나 프로젝트에서 재등록할 수 없습니다.

### 도메인 조회
- **관리 > 도메인** 탭에서 **도메인** 정보를 확인할 수 있습니다.
- **자세히** 버튼을 클릭하여 자세한 도메인 정보를 확인할 수 있습니다.



## 인증서

### 인증서 파일 형식
- **.pem** 형식의 인증서 파일만 지원합니다.
- [passphrase](#passphrase-삭제)가 삭제된 인증서만 추가할 수 있습니다.
- 파일에는 인증서(체인) 정보와 개인 키 정보가 포함되어 있습니다.

```
-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----
-----BEGIN RSA PRIVATE KEY-----
...
-----END RSA PRIVATE KEY-----
```

### passphrase 삭제
- passphrase는 다음 명령을 사용해 삭제할 수 있습니다.

```bash
openssl rsa -in input.key -out output.key
```

### 인증서 파일(.pem) 생성 방법
1. 인증서 정보를 **.pem** 형식으로 변환합니다.
2. 인증서 체인과 개인 키를 포함하는 단일 **.pem** 파일을 생성합니다.

```bash
cat mydomain.crt mydomain.key root-ca-chain.pem > mydomain.pem
```

- **cat** 명령어를 이용하여 result.pem 1개 파일로 단순 통합하는 예제입니다.
- 통합된 result.pem 파일을 텍스트 편집기로 열어, PEM 내용 간 구분되어 있는지 꼭 확인해야 합니다.
- 루트/체인 인증서는 차이가 있을 수 있습니다.


### 인증서 추가
- **관리 > 인증서** 탭에서 **인증서 추가** 버튼을 클릭하여 사용자가 소유하고 있는 인증서를 추가할 수 있습니다.
- **인증서**를 업로드하면 인증서를 검증하여 사용할 수 있는 인증서의 경우 자동으로 정보가 콘솔에 표시됩니다.
    - 이미 사용되고 있는 인증서는 사용할 수 없습니다.
- **공개 범위**는 같은 조직 내의 여러 프로젝트에서 **인증서**를 공유해서 사용할 수 있도록 제공합니다.
    - _wildcard_ 인증서의 경우 하나만 등록할 수 있기 때문에 인증서를 공유받아야만 사용할 수 있습니다.
- **자세히** 버튼을 클릭하여 인증서의 자세한 정보를 확인할 수 있습니다.
- 등록한 **인증서**는 다른 조직이나 프로젝트에서 재등록할 수 없습니다.

### 인증서 조회
- **관리 > 인증서** 탭에서 **인증서** 정보를 확인할 수 있습니다.
- **자세히** 버튼을 클릭하여 자세한 인증서 정보를 확인할 수 있습니다.

### 인증서 갱신
- **관리 > 인증서** 탭에서 각 인증서의 **편집** 버튼을 클릭하여 인증서를 갱신할 수 있습니다.
    - Common name(CN)이 동일한 인증서만 등록 가능합니다.
    - 만료일이 기존에 등록된 인증서의 만료일보다 더 후인 인증서만 등록 가능합니다.