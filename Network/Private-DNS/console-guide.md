## Network > Private DNS > 콘솔 사용 가이드

### Private DNS Zone 생성

1. Private DNS Zone은 레코드 세트의 컨테이너로 Private DNS가 서비스하는 호스트에 대한 도메인 영역이며, **Private DNS Zone 생성** 버튼을 클릭하여 생성합니다.

2. **Private DNS Zone 이름**과 **설명**을 입력하고, VPC를 선택하여 **확인** 버튼을 클릭합니다.  

    - **Private DNS Zone 이름**에 사용자가 소유한 도메인 또는 하위 도메인을 [FQDN(fully qualified domain name)](https://en.wikipedia.org/wiki/Fully_qualified_domain_name)으로 입력합니다.
    - **Private DNS Zone 이름**은 연결된 VPC 내에서 유일해야 합니다.
    - 여러 개의 VPC를 선택할 수 있습니다. 화면 우측 **+** 버튼을 클릭해 VPC를 추가할 수 있으며, 추가된 VPC의 **-** 버튼을 클릭해 VPC를 제거할 수 있습니다.
    - Private DNS Zone의 VPC 최소 연결 개수는 1개이며 최대 연결 개수는 제한이 없습니다.
    - 생성이 완료되면 Private DNS 서비스를 이용하기 위해 연결된 VPC의 인스턴스들은 네임서버를 프라이빗 DNS 포트 IP로 변경해야 합니다.
      - 인스턴스를 재시작하게 되면, 인스턴스의 네임서버가 프라이빗 DNS 포트 IP로 설정됩니다.
      - 재시작 없이 네임서버를 변경하려면, 인스턴스에 접속하여 네임서버를 프라이빗 DNS 포트 IP로 지정해야 합니다. 운영체제별로 네임서버를 설정하는 방법에 따라 변경을 진행합니다.
    - 기본으로 생성되는 레코드 세트는 [레코드 세트 관리](./console-guide/#_1)에서 확인할 수 있습니다.
    - 한 개 이상의 Zone에 연결된 VPC는 프라이빗 IP DNS 설정을 하지 않더라도 프라이빗 IP DNS를 사용할 수 있습니다.


> [참고] 프라이빗 DNS 포트
> * 프라이빗 IP DNS를 설정하거나 VPC를 최초로 Zone에 연결하게 되면 VPC 내에 프라이빗 DNS 포트가 생성됩니다.
> * 프라이빗 IP DNS를 설정하지 않으면서 모든 Zone과 연결이 해지된 VPC는 프라이빗 DNS 포트가 삭제됩니다.
> * 프라이빗 IP DNS를 설정하지 않으면서 모든 Zone과 연결을 해지한 후 다시 연결한 VPC는 프라이빗 DNS 포트가 변경될 수 있습니다.
> * 프라이빗 DNS 포트가 생성/변경/삭제되는 경우, 이를 적용하기 위해서 인스턴스 재시작이 필요합니다.
> * 프라이빗 DNS 포트의 적용을 위해 인스턴스를 재시작 했다면, 이후 해당 VPC에 추가적으로 다른 Zone을 연결하거나 프라이빗 IP DNS 설정을 변경할 경우에 인스턴스 재시작을 하지 않아도 됩니다.

> [참고] 네임서버 재설정이 필요한 경우
> * VPC에 프라이빗 IP DNS를 설정하거나 최초로 Zone에 연결한 경우
> * Zone에 연결되지 않은 VPC의 프라이빗 IP DNS 설정을 변경하는 경우
> * VPC에 프라이빗 IP DNS를 설정하지 않으면서 VPC의 모든 Zone 연결을 해지하여 더 이상 Private DNS 서비스를 사용하지 않는 경우
> * VPC에 프라이빗 IP DNS를 설정하지 않으면서 VPC의 모든 Zone 연결을 해지했다가 다시 연결하는 경우

> [주의 사항] 두 개 이상의 다른 VPC 포트를 가진 인스턴스
> * 두 개 이상의 다른 VPC 포트를 가진 인스턴스는 Private DNS 동작을 보장할 수 없습니다.
> * 두 포트 중 하나의 VPC에 설정된 Private DNS만 동작할 수 있습니다.
> * Private DNS 서비스를 사용하려는 VPC 포트를 인스턴스의 eth0으로 설정하지 않으면, 라우팅 우선순위에 따라서 DNS 응답을 받지 못할 수 있습니다.

### Private DNS Zone 수정

1. 수정할 Private DNS Zone을 선택한 후, **Private DNS Zone 수정** 버튼을 클릭합니다.
   
2. VPC를 추가하거나 삭제할 수 있습니다. 화면 우측 **+** 버튼을 클릭해 VPC를 추가할 수 있으며, 추가된 VPC의 **-** 버튼을 클릭해 VPC를 제거할 수 있습니다.
   - Private DNS Zone은 최소 1개의 VPC에 연결되어야 하므로, 마지막 VPC는 삭제할 수 없습니다.

3. **설명**을 수정하고, **확인** 버튼을 클릭합니다.

### Private DNS Zone 삭제

1. 삭제할 DNS Zone을 모두 선택한 후, **DNS Zone 삭제** 버튼을 클릭합니다.

2. **확인** 버튼을 클릭합니다. DNS Zone 내 모든 레코드 세트도 삭제되며 일정 시간이 소요됩니다.

## 레코드 세트 관리

메뉴의 **Private DNS** 화면에서 선택한 DNS Zone의 레코드 세트를 관리할 수 있습니다.

- **Private DNS Zone 이름** 또는 하위 이름에 대한 레코드 세트를 레코드 세트 타입별로 만들 수 있습니다.
- **Private DNS Zone 이름**의 SOA와 NS 레코드 세트는 기본으로 생성되며 수정 및 삭제할 수 없습니다.
- SOA 레코드 세트는 생성/수정/삭제할 수 없으며, NS 레코드 세트는 **Private DNS Zone 이름**으로 생성/수정/삭제할 수 없습니다.

### 레코드 세트 생성

1. 레코드 세트는 서비스되는 호스트 정보이며, **레코드 세트 생성** 버튼을 클릭하여 생성합니다.

2. 레코드 세트 정보를 입력합니다.

    - 레코드 세트 이름: 서비스할 호스트 이름으로 **Private DNS Zone 이름** 또는 하위 이름이 될 수 있도록 [FQDN](https://en.wikipedia.org/wiki/Fully_qualified_domain_name)으로 입력합니다.
    - 레코드 세트 타입: 호스트의 유형으로 사용 목적에 따라 유형을 선택합니다.
    - TTL(초): Time to live로 데이터의 유효 기간을 나타냅니다. 네임 서버에서 레코드 세트 정보의 갱신 주기를 초 단위로 입력합니다. 우측 버튼을 클릭하여 간단하게 입력할 수 있습니다.

3. 레코드 세트 타입에 따른 레코드 정보를 입력합니다.

    - 레코드 세트 타입에 따라 레코드 값을 다르게 입력해야 합니다. 생성 화면 하단 설명에 따라 입력합니다.
    - 레코드 세트 타입에 따라 여러 개의 레코드를 입력할 수 있습니다. 화면 우측 **+** 버튼을 클릭해 레코드를 추가할 수 있으며, 추가된 레코드의 **-** 버튼을 클릭해 레코드를 제거할 수 있습니다.

4. 설정 완료 후 **확인** 버튼을 클릭합니다.

5. 레코드 세트 생성 개수는 제한되어 있으며 연장이 필요한 경우 별도로 문의해 주시기 바랍니다. 

    - 문의처: 고객 센터 > [1:1 문의](https://www.nhncloud.com/kr/support/inquiry?alias=tab3_02)

### 레코드 세트 대량 생성

1. **레코드 세트 대량 생성** 버튼을 클릭합니다.

2. **템플릿 다운로드** 버튼을 클릭하여 다운로드한 템플릿에 레코드 세트 정보를 입력한 후 **파일 선택** 버튼을 클릭하여 템플릿을 선택합니다.

3. 템플릿에 입력한 정보를 화면에서 확인한 후 **확인** 버튼을 클릭합니다.

### 레코드 세트 수정

1. 수정할 레코드 세트를 선택한 후, **레코드 세트 수정** 버튼을 클릭합니다.

2. **레코드 세트 이름**은 수정할 수 없으며, **레코드 세트 타입**과 **TTL(초)**, **레코드값**은 수정할 수 있습니다.

3. 설정 완료 후 **확인** 버튼을 클릭합니다.


### 레코드 세트 삭제

1. 삭제할 레코드 세트를 모두 선택한 후, **레코드 세트 삭제** 버튼을 클릭합니다.

2. **확인** 버튼을 클릭합니다.