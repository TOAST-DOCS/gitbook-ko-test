## Network > Transit Hub > 콘솔 사용 가이드

콘솔에서 Transit Hub 서비스를 사용하는 방법을 설명합니다.

## 관리

**트랜짓 허브** 설정을 관리합니다.

### 트랜짓 허브 생성

트랜짓 허브를 생성하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 관리**로 이동합니다.
2. **트랜짓 허브 생성** 버튼을 클릭하면 생성 화면이 나타납니다.
3. 생성 화면에서 트랜짓 허브에 대한 정보를 입력합니다.
    * 이름: 트랜짓 허브의 이름을 입력합니다.
    * 설명: 트랜짓 허브의 설명을 기술합니다.
    * 멀티캐스트 지원: 멀티캐스트 통신이 필요한 경우 체크합니다.
    * 기본 라우팅 테이블 연결: **연결**이 생성될 때 기본 라우팅 테이블에 자동으로 연결합니다.
    * 기본 라우팅 테이블 전파: **연결**과 연관된 VPC의 CIDR 설정값을 기본 라우팅 테이블에 **라우팅 룰**로 자동 추가합니다.
> [주의]
> * 멀티캐스트 지원, 기본 라우팅 테이블 연결/전파 설정은 변경할 수 없습니다.
> * 기본 라우팅 테이블 연결, 기본 라우팅 테이블 전파 중 1가지 이상 선택이 된 경우에만 기본 라우팅 테이블이 생성됩니다.

### 트랜짓 허브 변경

트랜짓 허브를 변경하는 방법은 다음과 같습니다. 이름, 설명만 변경할 수 있습니다.

1. **Network > Transit Hub > 관리**로 이동합니다.
2. 화면의 목록에서 변경할 트랜짓 허브를 선택합니다.
3. **트랜짓 허브 변경** 버튼을 클릭하면 변경 화면이 나타납니다.
4. 변경 화면에서 원하는 항목을 변경합니다.

### 트랜짓 허브 삭제

트랜짓 허브를 삭제하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 관리**로 이동합니다.
2. 화면의 목록에서 삭제할 트랜짓 허브를 선택합니다.
3. **트랜짓 허브 삭제** 버튼을 클릭하여 삭제합니다.

### 다른 프로젝트로 공유

트랜짓 허브를 다른 프로젝트에 공유합니다. 다른 프로젝트에서는 공유 받은 **트랜짓 허브**에 **연결**을 생성할 수 있습니다.<br>
트랜짓 허브를 공유하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 관리**로 이동합니다.
2. 화면의 목록에서 공유할 트랜짓 허브를 선택합니다.
3. **다른 프로젝트로 공유** 버튼을 클릭한 후 공유 화면에서 공유 받을 상대방의 **테넌트 ID**를 입력합니다. <br>
> [참고] 다른 프로젝트 **테넌트 ID** 확인 방법
> 다른 프로젝트에 접근 권한이 없을 경우 해당 프로젝트의 관리자로부터 테넌트 ID를 제공받아야 합니다.
> 1. 프로젝트의 콘솔 화면에 접속합니다.
> 2. **Network > VPC > 관리**로 이동합니다.
> 3. 화면 목록에 표시되는 VPC 중 아무거나 1개를 선택합니다.
> 4. **기본 정보 > 테넌트 ID**에 표기된 ID 값을 복사합니다.

## 연결

트랜짓 허브와 다른 리소스를 관계를 정의하는 **연결**을 관리합니다.

### 연결 생성

**연결**을 생성하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 연결**로 이동합니다.
2. **연결 생성** 버튼을 클릭하면 생성 화면이 나타납니다.
3. 생성 화면에서 **연결**에 대한 정보를 입력합니다.
    * 이름: **연결**의 이름을 입력합니다.
    * 설명: **연결**의 설명을 기술합니다.
    * 트랜짓 허브 타입: 같은 프로젝트에서 생성한 **일반 트랜짓 허브**, 다른 프로젝트로 부터 공유 받은 **공유받은 트랜짓 허브**중에서 선택합니다.
    * 트랜짓 허브: **연결**이 생성되는 **트랜짓 허브**를 선택합니다.
    * 리소스 타입: 리소스 타입을 선택합니다.
    > [참고] 현재 리소스 타입은 VPC만 선택 가능합니다.
    * 리소스: **연결**과 연관성을 가지는 리소스를 선택합니다.
    > [참고] 리소스 타입이 VPC만 선택 가능하기 때문에 자동으로 VPC 목록 만 출력됩니다.
    * 서브넷: **연결**의 **네트워크 인터페이스**가 생성되는 서브넷을 선택합니다.

### 연결 변경

**연결**을 변경하는 방법은 다음과 같습니다. 이름, 설명만 변경할 수 있습니다.

1. **Network > Transit Hub > 연결**로 이동합니다.
2. 화면의 목록에서 변경할 **연결**을 선택합니다.
3. **연결 변경** 버튼을 클릭하면 변경 화면이 나타납니다.
4. 변경 화면에서 원하는 항목을 변경합니다.

### 연결 삭제

**연결**을 삭제하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 연결**로 이동합니다.
2. 화면의 목록에서 삭제할 **연결**을 선택합니다.
3. **연결 삭제** 버튼을 클릭하여 삭제합니다.

## 라우팅 테이블

트랜짓 허브의 **라우팅 테이블** 설정을 관리합니다.

### 라우팅 테이블 생성

**라우팅 테이블**을 생성하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 라우팅 테이블**로 이동합니다.
2. **라우팅 테이블 생성** 버튼을 클릭하면 생성 화면이 나타납니다.
3. 생성 화면에서 라우팅 테이블에 대한 정보를 입력합니다.
    * 이름: 라우팅 테이블의 이름을 입력합니다.
    * 설명: 라우팅 테이블의 설명을 기술합니다.
    * 트랜짓 허브: 라우팅 테이블을 생성할 **트랜짓 허브**를 선택합니다.

### 라우팅 테이블 변경

**라우팅 테이블**을 변경하는 방법은 다음과 같습니다. 이름, 설명만 변경할 수 있습니다.

1. **Network > Transit Hub > 라우팅 테이블**로 이동합니다.
2. 화면의 목록에서 변경할 **라우팅 테이블**을 선택합니다.
3. **라우팅 테이블 변경** 버튼을 클릭하면 변경 화면이 나타납니다.
4. 변경 화면에서 원하는 항목을 변경합니다.

### 라우팅 테이블 삭제

**라우팅 테이블**을 삭제하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 라우팅 테이블**로 이동합니다.
2. 화면의 목록에서 삭제할 **라우팅 테이블**을 선택합니다.
3. **라우팅 테이블 삭제** 버튼을 클릭하여 삭제합니다.

### 라우팅 테이블 관리

선택한 **라우팅 테이블**의 기본 정보를 확인하고 라우팅과 연관된 패킷 처리 규칙 및 설정들을 관리합니다.

#### 기본 정보

선택한 라우팅 테이블의 기본 정보를 확인할 수 있습니다.

#### 라우팅 연결

**라우팅 테이블**이 패킷을 수신하기 위한 **연결**과의 관계를 정의하는 **라우팅 연결**을 관리합니다.

##### 라우팅 연결 생성

**라우팅 연결**을 생성하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 라우팅 테이블 > 라우팅 연결**로 이동합니다.
2. **라우팅 연결 생성** 버튼을 클릭하면 생성 화면이 나타납니다.
3. 생성 화면에서 **라우팅 연결**에 대한 정보를 입력합니다.
    * 연결: **라우팅 테이블**이 패킷을 수신하기 위한 **연결**을 선택합니다.
    > [참고] 트랜짓 허브에서 1개의 **연결**은 선택된 1개의 **라우팅 테이블**에서 1개의 **라우팅 연결**만 생성할 수 있습니다.

##### 라우팅 연결 삭제

**라우팅 연결**을 삭제하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 라우팅 테이블 > 라우팅 연결**로 이동합니다.
2. 화면의 목록에서 삭제할 **라우팅 연결**을 선택합니다.
3. **라우팅 연결 삭제** 버튼을 클릭하여 삭제합니다.
   
#### 라우팅 전파

**라우팅 테이블**에서 패킷의 송신 정책을 관리하는 **라우팅 룰**을 자동으로 생성할 수 있습니다. **라우팅 룰**을 자동 생성하기 위한 **연결**과의 관계를 정의하는 **라우팅 전파**를 관리합니다.
> [주의]
> * 전파될 CIDR과 동일한 대역의 **라우팅 룰**이 이미 존재하는 경우 **라우팅 전파**에 의한 **라우팅 룰**이 자동으로 등록되지 않습니다.
>     * 자동 **라우팅 룰** 등록에 실패한 **라우팅 전파**는 상태가 ERROR로 변경됩니다. CIDR를 검토하고 **라우팅 전파**를 다시 생성하거나 **라우팅 룰** 수동 설정을 사용하는 방법과 같은 적절한 조치가 필요합니다.
> * 둥일한 네트워크 대역(CIDR)을 가진 2개 이상의 **연결**에 대해서 **라우팅 전파**를 추가하는 경우도 위와 동일하게 첫 번째 생성된 **라우팅 전파**만 **라우팅 룰**이 자동으로 등록됩니다.

##### 라우팅 전파 생성

**라우팅 전파**를 생성하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 라우팅 테이블 > 라우팅 전파**로 이동합니다.
2. **라우팅 전파 생성** 버튼을 클릭하면 생성 화면이 나타납니다.
3. 생성 화면에서 **라우팅 전파**에 대한 정보를 입력합니다.
    * 연결: **라우팅 테이블**이 패킷을 송신하기 위한 라우팅 룰을 자동으로 생성하는 **연결**을 선택합니다.
    > [참고] 트랜짓 허브에서 1개의 **연결**은 **라우팅 테이블**마다 **라우팅 전파**를 1개까지 생성할 수 있습니다.

##### 라우팅 전파 삭제

**라우팅 전파**를 삭제하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 라우팅 테이블 > 라우팅 전파**로 이동합니다.
2. 화면의 목록에서 삭제할 **라우팅 전파**를 선택합니다.
3. **라우팅 전파 삭제** 버튼을 클릭하여 삭제합니다.
> [주의] **라우팅 전파** 삭제 시 자동으로 추가된 **라우팅 룰**은 함께 삭제됩니다.

#### 라우팅 룰

**라우팅 테이블**에서 패킷의 송신 규칙을 처리하는 **라우팅 룰**을 관리할 수 있습니다.
> [주의] 전파될 CIDR과 동일한 대역의 **라우팅 룰**이 이미 존재하는 경우 **라우팅 룰**을 추가할 수 없습니다.

##### 라우팅 룰 생성

**라우팅 룰**을 생성하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 라우팅 테이블 > 라우팅 룰**로 이동합니다.
2. **라우팅 룰 생성** 버튼을 클릭하면 생성 화면이 나타납니다.
3. 생성 화면에서 **라우팅 룰**에 대한 정보를 입력합니다.
    * 대상 CIDR: 라우팅 정책을 위한 목적지 네트워크 대역을 입력합니다.
    > [참고] 라우팅 테이블에서 **라우팅 룰**들의 우선순위는 **라우팅 룰**에 설정된 CIDR의 Longest Prefix Matching 결과에 의해 결정됩니다.
    * 연결: **라우팅 테이블**에서 패킷 송신을 위한 **연결**을 선택합니다.

##### 라우팅 룰 삭제

**라우팅 룰**을 삭제하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 라우팅 테이블 > 라우팅 룰**로 이동합니다.
2. 화면의 목록에서 삭제할 **라우팅 룰**를 선택합니다.
3. **라우팅 룰 삭제** 버튼을 클릭하여 삭제합니다.

## 멀티캐스트

트랜짓 허브의 **멀티캐스트** 설정을 관리합니다.
> [주의] **트랜짓 허브**에서 **멀티캐스트 지원**이 선택되지 않은 경우 **멀티캐스트 도메인** 생성이 불가능하며 멀티캐스트 관련 기능은 모두 사용할 수 없습니다.

### 멀티캐스트 도메인 생성

**멀티캐스트 도메인**을 생성하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 멀티캐스트**로 이동합니다.
2. **멀티캐스트 도메인 생성** 버튼을 클릭하면 생성 화면이 나타납니다.
3. 생성 화면에서 멀티캐스트 도메인에 대한 정보를 입력합니다.
    * 이름: 멀티캐스트 도메인의 이름을 입력합니다.
    * 설명: 멀티캐스트 도메인의 설명을 기술합니다.
    * 트랜짓 허브: 멀티캐스트 도메인을 생성할 **트랜짓 허브**를 선택합니다.

### 멀티캐스트 도메인 변경

**멀티캐스트 도메인**을 변경하는 방법은 다음과 같습니다. 이름, 설명만 변경할 수 있습니다.

1. **Network > Transit Hub > 멀티캐스트**로 이동합니다.
2. 화면의 목록에서 변경할 **멀티캐스트 도메인**을 선택합니다.
3. **멀티캐스트 도메인 변경** 버튼을 클릭하면 변경 화면이 나타납니다.
4. 변경 화면에서 원하는 항목을 변경합니다.

### 멀티캐스트 도메인 삭제

**멀티캐스트 도메인**을 삭제하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 멀티캐스트**로 이동합니다.
2. 화면의 목록에서 삭제할 **멀티캐스트 도메인**을 선택합니다.
3. **멀티캐스트 도메인 삭제** 버튼을 클릭하여 삭제합니다.

### 멀티캐스트 관리

선택한 **멀티캐스트 도메인**의 기본 정보를 확인하고 멀티캐스트와 연관된 패킷 처리 정책과 설정들을 관리합니다.

#### 기본 정보

선택한 멀티캐스트 도메인의 기본 정보를 확인할 수 있습니다.

#### 멀티캐스트 연결

VPC 타입의 **연결**이 가진 서브넷을 **멀티캐스트 도메인**의 멀티캐스트 네트워크에 합류시키기 위한 **멀티캐스트 연결**을 관리합니다.
> [참고]
> * VPC 타입의 **연결**만 **멀티캐스트 연결**에서 사용할 수 있습니다.
> * 다른 프로젝트에 공유한 트랜짓 허브에 의해서 다른 프로젝트에서 만들어진 **연결**은 **멀티캐스트 연결**에서 사용할 수 없습니다.
> * 1개의 서브넷은 **NHN Cloud** 전체 중 1개의 **멀티캐스트 연결**에서만 사용 가능합니다. 즉, 1개의 **서브넷**은 1개의 **멀티캐스트 도메인**과만 연결이 가능합니다.

##### 멀티캐스트 연결 생성

**멀티캐스트 연결**을 생성하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 멀티캐스트 > 멀티캐스트 연결**로 이동합니다.
2. **멀티캐스트 연결 생성** 버튼을 클릭하면 생성 화면이 나타납니다.
3. 생성 화면에서 **멀티캐스트 연결**에 대한 정보를 입력합니다.
    * 연결: **멀티캐스트 도메인**의 멀티캐스트 네트워크에 합류하기 위한 **연결**을 선택합니다.

##### 멀티캐스트 연결 삭제

**멀티캐스트 연결**을 삭제하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 멀태캐스트 > 멀티캐스트 연결**로 이동합니다.
2. 화면의 목록에서 삭제할 **멀티캐스트 연결**을 선택합니다.
3. **멀티캐스트 연결 삭제** 버튼을 클릭하여 삭제합니다.

#### 멀티캐스트 그룹

**멀티캐스트 도메인**에서 제공하는 멀티캐스트 통신에 참여할 **네트워크 인터페이스**들을 **멀티캐스트 그룹**으로 관리합니다. **멀티캐스트 그룹**의 설정에 의해 동일한 **그룹 IP 주소**를 가진 **네트워크 인터페이스**들은 상호 간에 멀티캐스트 통신을 하게 됩니다.<br>
> [참고] VM Instance의 **네트워크 인터페이스**만 멀티캐스트 그룹으로 추가할 수 있습니다.

##### 멀티캐스트 그룹 생성

**멀티캐스트 그룹**을 생성하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 멀티캐스트**로 이동합니다.
2. **멀티캐스트 그룹 생성** 버튼을 클릭하면 생성 화면이 나타납니다.
3. 생성 화면에서 멀티캐스트 도메인에 대한 정보를 입력합니다.
    * 멀티캐스트 연결: **멀티캐스트 연결**을 선택합니다.
    * 네트워크 인터페이스: **네트워크 인터페이스**를 선택합니다.
    * 그룹 IP 주소: 멀티캐스트 IP 주소를 입력합니다.
    > [참고]
    > * 224.0.0.0/4의 범위로 입력되어야 합니다.
    > * 221.0.0.1은 입력할 수 없습니다. 
    * 타입: 멤버, 소스 중 선택합니다
        * 멤버<br>
          목적지가 그룹 IP 주소인 멀티캐스트 패킷을 수신합니다.<br>
          같은 그룹에서 멤버로 지정된 **네트워크 인터페이스**는 소스로 지정할 수 없습니다.
        * 소스<br>
          목적지가 그룹 IP 주소인 멀티캐스트 패킷을 송신합니다. 동일한 **그룹 IP 주소**마다 1개의 **네트워크 인터페이스**만 소스로 지정이 가능합니다.<br>
          같은 그룹에서 소스로 지정된 **네트워크 인터페이스**는 멤버로 지정할 수 없습니다.

##### 멀티캐스트 그룹 삭제

**멀티캐스트 그룹**을 삭제하는 방법은 다음과 같습니다.

1. **Network > Transit Hub > 멀태캐스트 > 멀티캐스트 그룹**으로 이동합니다.
2. 화면의 목록에서 삭제할 **멀티캐스트 그룹**을 선택합니다.
3. **멀티캐스트 그룹 삭제** 버튼을 클릭하여 삭제합니다.

## 공유받은 트랜짓 허브

다른 프로젝트가 소유한 트랜짓 허브를 공유 받은 경우 **공유받은 트랜짓 허브**의 목록을 확인할 수 있습니다.
> [참고] 목록 및 선택한 항목의 정보 확인만 가능하며 설정할 수 있는 부분은 없습니다.
